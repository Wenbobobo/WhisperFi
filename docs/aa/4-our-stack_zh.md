# AA知识库：第四部分

## 我们的技术栈：一种混合隐私方案

正如我们在之前的文档中所讨论的，我们决定采用一种混合方法来构建我们的协议，同时使用基于中继者的模型和AA模型来提供一个全面的隐私解决方案。本文档将对我们提出的架构进行高层次的概述，并说明我们计划如何使用这两种模型来提供无缝且安全的用户体验。

### 核心：基于中继者的隐私池

我们协议的核心是一个基于中继者的隐私池。在这个系统中，用户可以将他们的资金存入一个智能合约，然后使用一个中继者来代表他们执行交易。中继者是一个受信任的、中心化的代理，负责以保护用户隐私和防止MEV的方式向区块链提交交易。

该模型为我们的用户提供了最高级别的安全性和隐私性，因为它允许我们使用私有订单���将交易直接发送给区块构建者。这意味着我们用户的交易永远不会暴露在公共内存池中，从而避免了MEV和其他攻击的风险。

### 功能层：账户抽象

在我们的核心隐私池之上，我们将构建一个使用账户抽象来增强用户体验的功能层。这将使我们能够为用户提供以下功能：

-   **Gas赞助：** 我们将使用一个Paymaster来为我们的用户赞助Gas费。这将允许他们与我们的协议进行交互，而无需在他们的钱包中拥有ETH。
-   **灵活提款：** 我们将允许用户将资金从我们的隐私池直接提取到一个新的智能合约钱包。这将使他们能够在其他链上活动中获得AA的全部好处。
-   **简化入门：** 我们将使用AA为新用户创造一个更无缝的入门体验。例如，我们可以为每个新用户自动创建一个智能合约钱包，然后使用Paymaster来赞助他们的前几笔交易。

### 混合模型的实际应用

以下是混合模型在实践中如何工作的一个例子：

1.  一个用户从他们的MetaMask钱包向我们的隐私池存入10个ETH。
2.  该用户希望在Uniswap上进行一笔大额、敏感的交易。他们使用我们核心的基于中继者的模型来执行该交易。交易被直接发送给一个区块构建者，用户的隐私得到了保护。
3.  ���用户现在在隐私池中还剩下5个ETH。他们希望用这笔资金为一个新的、未经审计的DeFi协议提供流动性。他们使用我们基于AA的模型来创建一个新的、临时的智能合约钱包。然后，他们将他们的5个ETH提取到这个新钱包，并用它与DeFi协议进行交互。

这种混合模型为我们的用户提供了两全其美的体验：我们核心的基于中继者的模型的安全性和隐私性，以及AA模型的灵活性和可组合性。
